\doxysection{Order\+Detail\+History.\+hpp}
\hypertarget{_order_detail_history_8hpp_source}{}\label{_order_detail_history_8hpp_source}\index{OrderbookSim/OrderDetailHistory.hpp@{OrderbookSim/OrderDetailHistory.hpp}}
\mbox{\hyperlink{_order_detail_history_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <fstream>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <unordered\_map>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{json_8hpp}{json.hpp}}"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_neural_network_8hpp}{NeuralNetwork.hpp}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_order_detail_8hpp}{OrderDetail.hpp}}"{}}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_matched_order_details_8hpp}{MatchedOrderDetails.hpp}}"{}}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00027\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_order_detail_history}{OrderDetailHistory}}\ \{}
\DoxyCodeLine{00028\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00029\ \ \ \ \ std::vector<OrderDetail>\ buyHistory;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00030\ \ \ \ \ std::vector<OrderDetail>\ sellHistory;\ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00031\ \ \ \ \ std::vector<MatchedOrderDetail>\ \_purchaseHistory;\ \ }
\DoxyCodeLine{00032\ \ \ \ \ std::unordered\_map<OrderId,\ OrderDetail>\ \_liveOrders;\ }
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \ \ \mbox{\hyperlink{class_neural_network}{NeuralNetwork}}\ neutralNetwork;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00035\ \ \ \ \ \mbox{\hyperlink{_usings_8hpp_a375e30b119b87df2956b839a36a8d2d5}{Price}}\ lastPrediction\ =\ 0;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{_usings_8hpp_a375e30b119b87df2956b839a36a8d2d5}{Price}}\ PRICESCALE\ =\ 500;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00042\ \ \ \ \ std::pair<std::vector<OrderDetail>,\ std::vector<OrderDetail>>\ \_getLiveOrders()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordtype}{void}\ addOrderToBuyHistory(\textcolor{keyword}{const}\ \mbox{\hyperlink{_order_type_8hpp_a57124e387290311f33f3b54a54930418}{OrderType}}\ type,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_usings_8hpp_a90716e500cb73455f03ac5b21fc7c219}{OrderId}}\ \textcolor{keywordtype}{id},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_side_8hpp_a8c0137d7160ad71b6ed265c53c99ed00}{Side}}\ side,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_usings_8hpp_a375e30b119b87df2956b839a36a8d2d5}{Price}}\ price,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_usings_8hpp_a90c79bb14ac40b274a4d20dd85f0469d}{Quantity}}\ qty);}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordtype}{void}\ addOrderToSellHistory(\textcolor{keyword}{const}\ \mbox{\hyperlink{_order_type_8hpp_a57124e387290311f33f3b54a54930418}{OrderType}}\ type,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_usings_8hpp_a90716e500cb73455f03ac5b21fc7c219}{OrderId}}\ \textcolor{keywordtype}{id},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_side_8hpp_a8c0137d7160ad71b6ed265c53c99ed00}{Side}}\ side,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_usings_8hpp_a375e30b119b87df2956b839a36a8d2d5}{Price}}\ price,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_usings_8hpp_a90c79bb14ac40b274a4d20dd85f0469d}{Quantity}}\ qty);}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{void}\ saveHistoryToJson(\textcolor{keyword}{const}\ std::string\&\ filename,\ \textcolor{keyword}{const}\ std::vector<OrderDetail>\ history);}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordtype}{void}\ saveHistoryToJson(\textcolor{keyword}{const}\ std::string\&\ filename,\ \textcolor{keyword}{const}\ std::vector<MatchedOrderDetail>\ history);}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordtype}{void}\ \_loadJsonLiveOrders(\textcolor{keyword}{const}\ std::string\&\ SellFilename,\ \textcolor{keyword}{const}\ std::string\&\ buyFilename);}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_order_detail_history_a3e7da6ed4559a65e5f8eb7b7fa550efe}{\_printLiveOrders}}(\textcolor{keyword}{const}\ std::string\&\ SellFilename,\ \textcolor{keyword}{const}\ std::string\&\ buyFilename);}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordtype}{void}\ \_printAHistory(\textcolor{keyword}{const}\ std::vector<OrderDetail>\&\ history);}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordtype}{double}\ getCurrentTimeAsFractionOfDay();}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordtype}{void}\ loadHistoryToNeuralNetwork(std::vector<Price>\ inputPrice,\ std::vector<Price>\ outputPrice);}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00094\ \ \ \ \ \mbox{\hyperlink{class_order_detail_history_a1ca9243f646c0f0b3f48c986b75256c6}{OrderDetailHistory}}()\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<unsigned>\ topology\ =\ \{\ 2,\ 3,\ 1\ \};}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ neutralNetwork.\mbox{\hyperlink{class_neural_network_a27f6289789e3b1eb34ce393b96f5bd88}{loadTogology}}(topology);}
\DoxyCodeLine{00097\ \ \ \ \ \}}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_order_detail_history_a8c6d46b597381a834d361ee510839c93}{buyHistorySize}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_order_detail_history_a6bed3ea20f7b2f16e453fcb5dfed9fd1}{sellHistorySize}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_order_detail_history_add68962f12a00beadf15c2d3f19f2838}{purchaseHistorySize}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_order_detail_history_addcc5e1737508a1974689610d20d4c27}{updateNeutralNetwork}}(\mbox{\hyperlink{_usings_8hpp_a375e30b119b87df2956b839a36a8d2d5}{Price}}\ price,\ \mbox{\hyperlink{_usings_8hpp_a90c79bb14ac40b274a4d20dd85f0469d}{Quantity}}\ quantity);}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_order_detail_history_a65eb92a2eb981e3e765ee7e98c00f112}{addOrderToHistory}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{_order_type_8hpp_a57124e387290311f33f3b54a54930418}{OrderType}}\ type,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_usings_8hpp_a90716e500cb73455f03ac5b21fc7c219}{OrderId}}\ \textcolor{keywordtype}{id},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_side_8hpp_a8c0137d7160ad71b6ed265c53c99ed00}{Side}}\ side,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_usings_8hpp_a375e30b119b87df2956b839a36a8d2d5}{Price}}\ price,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_usings_8hpp_a90c79bb14ac40b274a4d20dd85f0469d}{Quantity}}\ qty);}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_order_detail_history_a0209579741cc6ff09b61e37a4d2bda5e}{addOrderToPurchaseHistory}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{_usings_8hpp_a375e30b119b87df2956b839a36a8d2d5}{Price}}\ price,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_usings_8hpp_a90c79bb14ac40b274a4d20dd85f0469d}{Quantity}}\ qty);}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_order_detail_history_a40d7d4c3578d61c9f151b5cf38c45ce0}{saveHistoryToJson}}(\textcolor{keyword}{const}\ std::string\&\ buyfilename,\ \textcolor{keyword}{const}\ std::string\&\ sellfilename,\ \textcolor{keyword}{const}\ std::string\&\ purchasefilename);}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_order_detail_history_a8fa375dfc0626eb44346bb12ccd2b77c}{saveHistoryToJson}}(\textcolor{keyword}{const}\ std::string\&\ buyfilename\ =\ \textcolor{stringliteral}{"{}BuyHistory.json"{}},\ \textcolor{keyword}{const}\ std::string\&\ sellfilename\ =\ \textcolor{stringliteral}{"{}SellHistory.json"{}},\ \textcolor{keyword}{const}\ std::string\&\ purchasefilename\ =\ \textcolor{stringliteral}{"{}PurchaseHistory.json"{}},\ \textcolor{keyword}{const}\ std::string\&\ liveSellOrdersFilename\ =\ \textcolor{stringliteral}{"{}LiveSellHistory.json"{}},\ \textcolor{keyword}{const}\ std::string\&\ buySellOrdersFilename\ =\ \textcolor{stringliteral}{"{}LiveBuyHistory.json"{}});}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_order_detail_history_a022cf43ca89b41961555b35b38f55111}{removeMatchedOrder}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{_usings_8hpp_a90716e500cb73455f03ac5b21fc7c219}{OrderId}}\ bidId,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{_usings_8hpp_a90716e500cb73455f03ac5b21fc7c219}{OrderId}}\ askID);}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_order_detail_history_ab2a02f0281c6bcc0b9fda78f27d6f901}{\_printSellHistory}}();}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_order_detail_history_a6134431de80ddbe9281fa17306fcf30d}{\_printBuyHistory}}();}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_order_detail_history_ae1699409e402747d0249b4cacb69e08b}{\_printPurchaseHistory}}();}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00165\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_order_detail_history_a3e7da6ed4559a65e5f8eb7b7fa550efe}{\_printLiveOrders}}();}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00171\ \ \ \ \ \mbox{\hyperlink{_usings_8hpp_a375e30b119b87df2956b839a36a8d2d5}{Price}}\ \mbox{\hyperlink{class_order_detail_history_ace0afa64e4e248705363c6e35fc9dbbc}{getVWAP}}();}
\DoxyCodeLine{00172\ }
\DoxyCodeLine{00177\ \ \ \ \ \mbox{\hyperlink{_usings_8hpp_a375e30b119b87df2956b839a36a8d2d5}{Price}}\ \mbox{\hyperlink{class_order_detail_history_ace0afa64e4e248705363c6e35fc9dbbc}{getVWAP}}(\textcolor{keywordtype}{int}\ n);}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00183\ \ \ \ \ \mbox{\hyperlink{_usings_8hpp_a375e30b119b87df2956b839a36a8d2d5}{Price}}\ \mbox{\hyperlink{class_order_detail_history_a7901c7d902a3e0412328432978781da0}{getPrediction}}();}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00189\ \ \ \ \ std::unordered\_map<OrderId,\ OrderDetail>\ \mbox{\hyperlink{class_order_detail_history_a2125b507c1f6844d995b2ce67b63f340}{getLiveOrders}}();}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_order_detail_history_a850bb8c0917adec18a552e7a093b0be2}{deleteALiveOrder}}(\mbox{\hyperlink{_usings_8hpp_a90716e500cb73455f03ac5b21fc7c219}{OrderId}}\ \textcolor{keywordtype}{id});}
\DoxyCodeLine{00195\ \};}

\end{DoxyCode}
